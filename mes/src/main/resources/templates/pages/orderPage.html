<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <title>aone-수주관리</title>
    <th:block th:replace="fragments/config::configFragment"></th:block>
    <link th:href="@{/css/orderPageStyle.css}" rel="stylesheet">
    <script th:src="@{/js/orderPage.js}" defer></script>

</head>
<body>
<div th:replace="fragments/nav::nav"></div>
<!--<div layout:fragment="nav"></div>-->
<div layout:fragment="content" id="contentStyle">
    <div class="titlebox">
        <h1 style="display:inline-block">수주관리</h1>
        <div class="btn-box">
            <button class="bg-green" id="btnAdd">등록</button>
            <button class="bg-orange">삭제</button>
            <button class="bg-blue">확정</button>
        </div>
    </div>

    <hr>
    <form action="">
        <select name="" id="productname">
            <option disabled selected>제품명</option>
            <option value="">양배추즙</option>
            <option value="">흑마늘즙</option>
            <option value="">석류젤리스틱</option>
            <option value="">매실젤리스틱</option>
        </select>

        <select name="" id="vendor">
            <option disabled selected>거래처</option>
            <option value="">쿠팡</option>
            <option value="">11번가</option>
        </select>

        <input type="date">~
        <input type="date">

        <select name="" id="state">
            <option disabled selected>주문상태</option>
            <option value="">대기</option>
            <option value="">확정</option>
            <option value="">취소</option>
        </select>

        <button>검색</button>
    </form>

    <hr>
    <button class="bg-green" style="float: right; margin: 20px 0;"
            onclick="downloadTablesAsExcel()">Exel다운로드</button>

    <div class="table-container" style="height: 800px">
        <table>
            <thead>
            <tr>
                <th></th>
                <th>수주번호</th>
                <th>제품명</th>
                <th>거래처</th>
                <th>수량(box)</th>
                <th>수주일</th>
                <th>예상 납품일</th>
                <th>주문상태</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="orderDTO, status: ${orderDTOList}">
                <td>
                    <input type="checkbox" onclick="toggleSelectedRow(this)">
                </td>
                <td th:text="${orderDTO.salesOrderId}"></td>
                <td th:text="${orderDTO.productName}"></td>
                <td>
                    <span th:if="${orderDTO.vendorId == 'ven-11'}">11번가</span>
                    <span th:if="${orderDTO.vendorId == 'ven-cou'}">쿠팡</span>
                    <span th:if="${orderDTO.vendorId == 'ven-a'}">에이농장</span>
                    <span th:if="${orderDTO.vendorId == 'ven-nh'}">○○농협</span>
                    <span th:if="${orderDTO.vendorId == 'ven-po'}">○○포장</span>
                </td>
                <td th:text="${orderDTO.salesQty}"></td>
                <td th:text="${#temporals.format(orderDTO.salesDate, 'yy/MM/dd　hh:mm')}"></td>
                <td th:text="${#temporals.format(orderDTO.estDelivery, 'yy/MM/dd')}"></td>

                <td >
                    <span th:if="${orderDTO.salesStatus.name() == 'A'}">대기</span>
                    <span th:if="${orderDTO.salesStatus.name() == 'B'}">확정</span>
                    <span th:if="${orderDTO.salesStatus.name() == 'C'}">취소</span>
                </td>
            </tr>

            </tbody>
        </table>
    </div>

    <div id="addOrderModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <form id="addProductForm">
                <h1 style="text-align: center">수주 등록</h1>
                <select name="" id="setProduct">
                    <option disabled selected>제품명</option>
                    <option value="">양배추즙</option>
                    <option value="">흑마늘즙</option>
                    <option value="">석류젤리스틱</option>
                    <option value="">매실젤리스틱</option>
                </select>

                <select name="" id="setVendor">
                    <option disabled selected>거래처</option>
                    <option value="">쿠팡</option>
                    <option value="">11번가</option>
                </select>

                <input type="number" placeholder="수량" id="setOrderNum">

                <div class="dateTimeBox">
                    <input type="date" id="setOrderDate" disabled>
                    <input type="time" id="setOrderTime" disabled>
                </div>


                <div class="modalBtn">
                    <button id="closeBtn">취소</button>
                    <button class="bg-green" type="submit">확정</button>
                </div>

            </form>
        </div>
    </div>




</div>
</body>
</html>